# Thai ALPR System Environment Variables
# Copy this file to .env and update with your actual values

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=alpr_admin
POSTGRES_PASSWORD=alpr_secure_password_2024
POSTGRES_DB=thai_alpr_db
POSTGRES_PORT=5432
DATABASE_URL=postgresql://alpr_admin:alpr_secure_password_2024@localhost:5432/thai_alpr_db

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_2024
REDIS_DB=0

# =============================================================================
# Application Configuration
# =============================================================================
ENVIRONMENT=development  # development, staging, production
SECRET_KEY=your-secret-key-change-in-production-use-openssl-rand-hex-32
BACKEND_PORT=8000
FRONTEND_PORT=3000

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000

# =============================================================================
# AI Model Configuration
# =============================================================================
# Model paths
VEHICLE_MODEL_PATH=./models/vehicles.pt
PLATE_MODEL_PATH=./models/best.pt

# TensorRT optimization
USE_TENSORRT=true
TENSORRT_PRECISION=fp16  # fp32, fp16, int8
TENSORRT_WORKSPACE=4  # GB

# Detection thresholds
MIN_VEHICLE_CONFIDENCE=0.5
MIN_PLATE_CONFIDENCE=0.4
HIGH_CONFIDENCE_THRESHOLD=0.95

# =============================================================================
# RTSP Configuration
# =============================================================================
# Example: rtsp://username:password@192.168.1.100:554/stream1
RTSP_URL_1=rtsp://admin:password@192.168.1.100:554/stream1
RTSP_URL_2=rtsp://admin:password@192.168.1.101:554/stream1
CAMERA_ID_1=camera_entrance
CAMERA_ID_2=camera_exit

# Frame processing
FRAME_SKIP=2  # Process every N frames
MAX_FPS=30

# =============================================================================
# Deduplication Configuration
# =============================================================================
DEDUP_WINDOW_SECONDS=60  # Redis TTL for tracking IDs
DEDUP_ENABLED=true

# =============================================================================
# Storage Configuration
# =============================================================================
STORAGE_PATH=./storage
IMAGES_PATH=./storage/images
PLATES_PATH=./storage/plates
DATASET_PATH=./storage/dataset

# Image retention (days)
IMAGE_RETENTION_DAYS=30
AUTO_CLEANUP=true

# =============================================================================
# OCR Configuration
# =============================================================================
OCR_ENGINE=paddleocr  # paddleocr or tesseract
PADDLEOCR_LANG=th  # Thai language
PADDLEOCR_USE_GPU=true
PADDLEOCR_USE_ANGLE_CLS=true
PADDLEOCR_DET_DB_THRESH=0.3
PADDLEOCR_REC_BATCH_NUM=6

# Tesseract (alternative)
TESSERACT_LANG=tha
TESSERACT_CONFIG=--psm 7 --oem 3

# =============================================================================
# Active Learning Configuration
# =============================================================================
ACTIVE_LEARNING_ENABLED=true
MIN_SAMPLES_FOR_TRAINING=100
AUTO_RETRAIN=false  # Manual trigger recommended

# =============================================================================
# PgAdmin (Development Only)
# =============================================================================
PGADMIN_EMAIL=admin@alpr.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# =============================================================================
# Frontend Configuration
# =============================================================================
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000
VITE_APP_NAME=Thai ALPR System
VITE_APP_VERSION=1.0.0

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=./logs/alpr.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# =============================================================================
# Performance Tuning
# =============================================================================
# Worker processes
WORKER_COUNT=4
WORKER_CLASS=uvicorn.workers.UvicornWorker

# Connection pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# Redis connection pool
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# =============================================================================
# Security Configuration
# =============================================================================
# API Key for external integrations
API_KEY=your-api-key-here

# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Monitoring & Alerting (Optional)
# =============================================================================
# Sentry
SENTRY_DSN=

# Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=./backups

# =============================================================================
# Development Tools
# =============================================================================
DEBUG=false
RELOAD=false  # Auto-reload on code changes
PROFILING=false
